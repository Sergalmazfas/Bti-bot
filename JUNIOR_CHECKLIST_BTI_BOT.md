# üîπ –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–∂—É–Ω–∞: BTI Bot - –ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

## üéØ **–ó–∞–¥–∞—á–∞**
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é BTI Bot –Ω–∞ Google Cloud Run —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.

## üìã **–ß—Ç–æ —Å–¥–∞—ë–º –Ω–∞ –≤—ã—Ö–æ–¥–µ**
- ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
- ‚úÖ –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ Cloud Run —É—Å–ø–µ—à–µ–Ω

---

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ BTI Bot**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **main.py** (974 —Å—Ç—Ä–æ–∫–∏) - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
- **app.py** - Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Cloud Run
- **EnhancedDatabase** - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Telegram Bot API** - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- **SERP API** - –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
- **OpenAI GPT** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. **–†–∞—Å—á–µ—Ç –ë–¢–ò** - –ü–æ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–º—É –Ω–æ–º–µ—Ä—É –∏ –∞–¥—Ä–µ—Å—É
2. **–ü–æ–∏—Å–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤** - –ß–µ—Ä–µ–∑ SERP API
3. **–†–∞—Å—á–µ—Ç —Ü–µ–Ω** - 3 —Ç–∏–ø–∞ —Ü–µ–Ω (—Ç–µ—Ö–ø–∞—Å–ø–æ—Ä—Ç, –∑–∞–º–µ—Ä—ã, —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–µ)
4. **GPT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
5. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## üìù **–î–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–∂—É–Ω–∞**

### **A. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

#### **A1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
mkdir bti-bot-restore
cd bti-bot-restore

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Sergalmazfas/Bti-bot.git
cd Bti-bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
ls -la
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –í–∏–¥–∏—à—å —Ñ–∞–π–ª—ã main.py, app.py, requirements.txt, Dockerfile

#### **A2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã**
```bash
# –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git checkout -b feature/restore-bot-<—Ç–≤–æ–∏_–∏–Ω–∏—Ü–∏–∞–ª—ã>

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ù–∞—Ö–æ–¥–∏—à—å—Å—è –≤ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–µ

#### **A3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud**
```bash
# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
gcloud auth login
gcloud config set project talkhint

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
gcloud config get-value project
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ü—Ä–æ–µ–∫—Ç = talkhint

---

### **B. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞**

#### **B1. –ê–Ω–∞–ª–∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å main.py
head -20 main.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å app.py
cat app.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å requirements.txt
cat requirements.txt
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –í—Å–µ —Ñ–∞–π–ª—ã —á–∏—Ç–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

#### **B2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ main.py
grep -n "import" main.py | head -10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
grep -n "def " main.py | head -10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
grep -n "add_handler" main.py
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ù–µ—Ç –æ—à–∏–±–æ–∫ –∏–º–ø–æ—Ä—Ç–∞, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

#### **B3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python -m py_compile main.py
python -m py_compile app.py
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

---

### **C. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

#### **C1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ Google Cloud**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã
gcloud secrets list

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# - BOT_TOKEN
# - OPENAI_API_KEY  
# - REESTR_API_TOKEN
# - SERPRIVER_API_KEY
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –í—Å–µ 4 —Å–µ–∫—Ä–µ—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç

#### **C2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π —Å–µ–∫—Ä–µ—Ç–æ–≤**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å BOT_TOKEN (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —Ü–∏—Ñ—Ä)
gcloud secrets versions access latest --secret="BOT_TOKEN" | head -c 20

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å OPENAI_API_KEY (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å sk-)
gcloud secrets versions access latest --secret="OPENAI_API_KEY" | head -c 20
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –°–µ–∫—Ä–µ—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

---

### **D. –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π**

#### **D1. –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞**
```bash
# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker buildx build --platform linux/amd64 -t gcr.io/talkhint/btibot .

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
echo "–°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –û–±—Ä–∞–∑ —Å–æ–±—Ä–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫

#### **D2. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ä–µ–µ—Å—Ç—Ä**
```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ GCR
docker push gcr.io/talkhint/btibot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É
echo "–û–±—Ä–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ä–µ–µ—Å—Ç—Ä"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –û–±—Ä–∞–∑ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ gcr.io/talkhint/btibot

#### **D3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Cloud Run**
```bash
# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–µ—Ä–≤–∏—Å
gcloud run deploy btibot-restore \
  --image gcr.io/talkhint/btibot \
  --region europe-west1 \
  --platform managed \
  --allow-unauthenticated \
  --set-secrets="BOT_TOKEN=BOT_TOKEN:latest,OPENAI_API_KEY=OPENAI_API_KEY:latest,REESTR_API_TOKEN=REESTR_API_TOKEN:latest,SERPRIVER_API_KEY=SERPRIVER_API_KEY:latest"

# –ü–æ–ª—É—á–∏—Ç—å URL
SERVICE_URL=$(gcloud run services describe btibot-restore --region=europe-west1 --format="value(status.url)")
echo "Service URL: $SERVICE_URL"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω URL —Å–µ—Ä–≤–∏—Å–∞

---

### **E. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook**

#### **E1. –ü–æ–ª—É—á–µ–Ω–∏–µ URL —Å–µ—Ä–≤–∏—Å–∞**
```bash
# –ü–æ–ª—É—á–∏—Ç—å URL
SERVICE_URL=$(gcloud run services describe btibot-restore --region=europe-west1 --format="value(status.url)")
echo "Service URL: $SERVICE_URL"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—É—á–µ–Ω URL –≤–∏–¥–∞ https://btibot-restore-xxx.run.app

#### **E2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ webhook**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook
curl -X GET "https://api.telegram.org/bot$(gcloud secrets versions access latest --secret="BOT_TOKEN")/getWebhookInfo"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—É—á–µ–Ω JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ webhook

#### **E3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook
curl -X POST "https://api.telegram.org/bot$(gcloud secrets versions access latest --secret="BOT_TOKEN")/setWebhook?url=$SERVICE_URL/"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç {"ok":true,"result":true}

---

### **F. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**

#### **F1. Health Check**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check
curl -s "$SERVICE_URL/health"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç {"status":"ok"}

#### **F2. –¢–µ—Å—Ç –±–æ—Ç–∞ –≤ Telegram**
1. –ù–∞–π—Ç–∏ –±–æ—Ç–∞ –≤ Telegram –ø–æ —Ç–æ–∫–µ–Ω—É
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/start`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É /start

#### **F3. –¢–µ—Å—Ç —Ä–∞—Å—á–µ—Ç–∞ –ë–¢–ò**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä: 77:01:0001001:1001)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å—á–µ—Ç

---

### **G. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**

#### **G1. –û–±—â–∏–µ –ª–æ–≥–∏**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
gcloud logging read "resource.type=cloud_run_revision AND resource.labels.service_name=btibot-restore" --limit=10 --format="value(timestamp,severity,textPayload)"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### **G2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏
gcloud logging read "resource.type=cloud_run_revision AND resource.labels.service_name=btibot-restore AND severity>=ERROR" --limit=5 --format="value(timestamp,textPayload)"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –∏–ª–∏ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

#### **G3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –±–æ—Ç–∞
gcloud logging read "resource.type=cloud_run_revision AND resource.labels.service_name=btibot-restore AND textPayload:\"–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è\"" --limit=3
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –í–∏–¥–Ω—ã –ª–æ–≥–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ—Ç–∞

---

### **H. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**

#### **H1. –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç**
1. **–ö–æ–º–∞–Ω–¥–∞ /start** - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –º–µ–Ω—é
2. **–í–≤–æ–¥ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—á–µ—Ç
3. **–í–≤–æ–¥ –∞–¥—Ä–µ—Å–∞** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫
4. **–†–∞—Å—á–µ—Ç —Ü–µ–Ω** - –≤—Å–µ 3 —Ç–∏–ø–∞ —Ü–µ–Ω
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### **H2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
```bash
# –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
time curl -s "$SERVICE_URL/health"
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ < 5 —Å–µ–∫—É–Ω–¥

#### **H3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏**
```bash
# –ù–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–¥—Ä—è–¥
for i in {1..5}; do
  curl -s "$SERVICE_URL/health"
  sleep 1
done
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —É—Å–ø–µ—à–Ω—ã

---

## üìä **–û—Ç—á—ë—Ç –¥–ª—è —Å–¥–∞—á–∏**

### **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã:**

1. **GitHub –∫–æ–º–º–∏—Ç/–≤–µ—Ç–∫–∞**
   - –°–∫—Ä–∏–Ω –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤
   - –°–∫—Ä–∏–Ω —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏

2. **Google Cloud - —Å–µ–∫—Ä–µ—Ç—ã**
   - –°–∫—Ä–∏–Ω —Å–ø–∏—Å–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
   - –°–∫—Ä–∏–Ω –∑–Ω–∞—á–µ–Ω–∏–π —Å–µ–∫—Ä–µ—Ç–æ–≤ (–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)

3. **Docker —Å–±–æ—Ä–∫–∞**
   - –°–∫—Ä–∏–Ω —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏
   - –°–∫—Ä–∏–Ω –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Ä–µ–µ—Å—Ç—Ä

4. **Cloud Run –¥–µ–ø–ª–æ–π**
   - –°–∫—Ä–∏–Ω —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è
   - –°–∫—Ä–∏–Ω —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞

5. **Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**
   - –°–∫—Ä–∏–Ω getWebhookInfo
   - –°–∫—Ä–∏–Ω setWebhook

6. **–¢–µ—Å—Ç –±–æ—Ç–∞**
   - –°–∫—Ä–∏–Ω –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞ –≤ Telegram
   - –°–∫—Ä–∏–Ω –∫–æ–º–∞–Ω–¥—ã /start
   - –°–∫—Ä–∏–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞

7. **–õ–æ–≥–∏**
   - –°–∫—Ä–∏–Ω –ª–æ–≥–æ–≤ –±–µ–∑ –æ—à–∏–±–æ–∫
   - –°–∫—Ä–∏–Ω health check

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**

8. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
   - –°–∫—Ä–∏–Ω —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
   - –°–∫—Ä–∏–Ω —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ main.py (–ø–µ—Ä–≤—ã–µ 20 —Å—Ç—Ä–æ–∫)

9. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - –°–∫—Ä–∏–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ Cloud Run
   - –°–∫—Ä–∏–Ω —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

10. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
    - –°–∫—Ä–∏–Ω –º–µ—Ç—Ä–∏–∫ Cloud Run
    - –°–∫—Ä–∏–Ω –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## ÔøΩÔøΩ **–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**

### **–ü—Ä–æ–±–ª–µ–º–∞: "ModuleNotFoundError"**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ main.py –∏ app.py

### **–ü—Ä–æ–±–ª–µ–º–∞: "Service Unavailable"**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### **–ü—Ä–æ–±–ª–µ–º–∞: Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL —Å–µ—Ä–≤–∏—Å–∞ –∏ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### **–ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏ webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### **–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ —Ä–∞—Å—á–µ—Ç–∞**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üéØ **–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**

- ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É /start
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ 3 —Ç–∏–ø–∞ —Ü–µ–Ω
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ Health check –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç {"status":"ok"}
- ‚úÖ Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

**–ì–æ—Ç–æ–≤–æ! BTI Bot –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ**
